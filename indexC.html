<!DOCTYPE html>
<html>
<head>
    <title>Marcadores del Pueblo</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <style>
    body {
      background-color: blue;
    }
    </style>
</head>
<body>
    <h1>Crear Marcador</h1>
    <form id="markerForm">
        <label for="title">Título del lugar:</label>
        <input type="text" id="title" required><br>

        <label for="description">Descripción breve:</label>
        <input type="text" id="description" required><br>

        <label for="question">Pregunta tipo test:</label>
        <input type="text" id="question" required><br>

        <label for="option1">Opción 1:</label>
        <input type="text" id="option1" required><br>
        <label for="option2">Opción 2:</label>
        <input type="text" id="option2" required><br>
        <label for="option3">Opción 3:</label>
        <input type="text" id="option3" required><br>
        <label for="option4">Opción 4:</label>
        <input type="text" id="option4" required><br>

        <label for="correctOption">Selecciona la opción correcta:</label>
        <select id="correctOption" required>
            <option value="1">Opción 1</option>
            <option value="2">Opción 2</option>
            <option value="3">Opción 3</option>
            <option value="4">Opción 4</option>
        </select><br>

        <label for="lat">Latitud:</label>
        <input type="number" id="lat" step="0.000001" required><br>
        <label for="lng">Longitud:</label>
        <input type="number" id="lng" step="0.000001" required><br>

        <button type="submit">Crear Marcador</button>
    </form>

    <div id="map" style="height: 500px;"></div>

    <script>
        const map = L.map('map').setView([41.5, -5.7], 13); // Coordenadas de Zamora

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
        }).addTo(map);

        document.getElementById('markerForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const title = document.getElementById('title').value;
            const description = document.getElementById('description').value;
            const question = document.getElementById('question').value;
            const options = [
                document.getElementById('option1').value,
                document.getElementById('option2').value,
                document.getElementById('option3').value,
                document.getElementById('option4').value
            ];
            const correctOption = document.getElementById('correctOption').value;
            const lat = parseFloat(document.getElementById('lat').value);
            const lng = parseFloat(document.getElementById('lng').value);

            // Añadir el marcador al mapa
            L.marker([lat, lng]).addTo(map)
                .bindPopup(`<b>${title}</b><br>${description}<br><br>${question}<br>${options.join('<br>')}<br>Respuesta correcta: Opción ${correctOption}`).openPopup();

            // Limpiar el formulario
            this.reset();
        });
    </script>
</body>
</html>
